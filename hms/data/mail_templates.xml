<?xml version="1.0" encoding="utf-8"?>
<odoo>    
    <!-- Appointment Confirmation Template -->
    <record id="email_template_appointment_confirmation" model="mail.template">
        <field name="name">HMS: Appointment Confirmation</field>
        <field name="model_id" ref="model_hms_appointment"/>
        <field name="subject">Appointment Confirmation: {{ object.name }}</field>
        <field name="email_from">{{ user.company_id.email }}</field>
        <field name="email_to">{{ object.patient_id.email }}</field>
        <field name="body_html" type="html">
            <div style="margin: auto; padding: 20px; font-family: Arial, sans-serif;">
                <div style="text-align: center;">
                    <img t-att-src="'/hms/static/src/img/logo.png'" style="max-height: 80px;"/>
                    <h2 style="color: #2c3e50;">Appointment Confirmation</h2>
                </div>

                <div style="margin: 20px 0;">
                    <p>Dear <t t-out="object.patient_id.name"/>,</p>
                    <p>Your appointment has been confirmed with the following details:</p>

                    <table style="width: 100%; margin: 15px 0; border-collapse: collapse;">
                        <tr>
                            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><strong>Reference:</strong></td>
                            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><t t-out="object.name"/></td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><strong>Date &amp; Time:</strong></td>
                            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><t t-out="format_datetime(object.date, tz=user.tz)"/></td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><strong>Doctor:</strong></td>
                            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><t t-out="object.doctor_id.name"/></td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><strong>Department:</strong></td>
                            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><t t-out="object.department_id.name"/></td>
                        </tr>
                    </table>

                    <div style="background-color: #f8f9fa; padding: 15px; margin: 15px 0;">
                        <p><strong>Please remember:</strong></p>
                        <ul>
                            <li>Arrive 15 minutes early</li>
                            <li>Bring your ID and insurance card</li>
                            <li>Bring any relevant medical records</li>
                        </ul>
                    </div>

                    <p>For questions or rescheduling, please contact us at <t t-out="user.company_id.phone"/>.</p>
                </div>
            </div>
        </field>
    </record>

    <!-- Appointment Cancellation Template -->
    <record id="email_template_appointment_cancellation" model="mail.template">
        <field name="name">HMS: Appointment Cancellation</field>
        <field name="model_id" ref="model_hms_appointment"/>
        <field name="subject">Appointment Cancelled: {{ object.name }}</field>
        <field name="email_from">{{ user.company_id.email }}</field>
        <field name="email_to">{{ object.patient_id.email }}</field>
        <field name="body_html" type="html">
            <div style="padding:0px;width:600px;margin:auto;background: #FFFFFF;font-family:Verdana, Arial,sans-serif;">
                <t t-set="appointment" t-value="object"/>
                <!-- Logo from module static path -->
                <div style="text-align:center; padding: 10px;">
                    <img t-att-src="'/hms/static/src/img/logo.png'" style="max-height:80px;"/>
                </div>

                <div style="text-align: center; padding: 5px;">
                    <h2 style="color: #dc3545;">Appointment Cancellation Notice</h2>
                </div>
                
                <div style="padding:15px;">
                    <p>Dear <t t-esc="appointment.patient_id.name"/>,</p>
                    <p style="font-size: 16px;">We are writing to confirm that your appointment has been cancelled:</p>
                    
                    <table style="width: 100%; border-collapse: collapse; margin: 15px 0;">
                        <tr style="background-color: #f8f9fa;">
                            <td style="padding: 8px; border: 1px solid #ddd;"><strong>Reference</strong></td>
                            <td style="padding: 8px; border: 1px solid #ddd;"><t t-esc="appointment.name"/></td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border: 1px solid #ddd;"><strong>Originally Scheduled</strong></td>
                            <td style="padding: 8px; border: 1px solid #ddd;"><t t-esc="format_datetime(appointment.date, tz=user.tz)"/></td>
                        </tr>
                        <tr style="background-color: #f8f9fa;">
                            <td style="padding: 8px; border: 1px solid #ddd;"><strong>Doctor</strong></td>
                            <td style="padding: 8px; border: 1px solid #ddd;"><t t-esc="appointment.doctor_id.name"/></td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border: 1px solid #ddd;"><strong>Cancellation Reason</strong></td>
                            <td style="padding: 8px; border: 1px solid #ddd;"><t t-esc="appointment.cancel_reason or 'Not specified'"/></td>
                        </tr>
                    </table>

                    <div style="background-color: #fff3cd; padding: 15px; margin: 15px 0; border-radius: 4px;">
                        <p style="margin: 0; color: #856404;"><strong>Next Steps:</strong></p>
                        <ul style="margin: 10px 0;">
                            <li>Visit our patient portal to schedule a new appointment</li>
                            <li>Contact our scheduling department at <t t-esc="user.company_id.phone"/></li>
                            <li>Email us at <t t-esc="user.company_id.email"/> for assistance</li>
                        </ul>
                    </div>

                    <div style="text-align: center; margin-top: 30px; color: #666;">
                        <p>We apologize for any inconvenience this may cause.</p>
                        <p><small>This is an automated message, please do not reply.</small></p>
                    </div>
                </div>
            </div>
        </field>
    </record>

    <!-- Prescription Ready Template -->
    <record id="email_template_prescription_ready" model="mail.template">
        <field name="name">HMS: Prescription Ready for Pickup</field>
        <field name="model_id" ref="model_hms_prescription"/>
        <field name="subject">Your Prescription is Ready for Pickup</field>
        <field name="email_from">{{ user.company_id.email }}</field>
        <field name="email_to">{{ object.patient_id.email }}</field>
        <field name="body_html" type="html">
            <div style="margin: auto; padding: 20px; font-family: Arial, sans-serif;">
                <div style="text-align: center;">
                    <img t-att-src="'/hms/static/src/img/logo.png'" style="max-height: 80px;"/>
                    <h2 style="color: #2c3e50;">Prescription Ready for Pickup</h2>
                </div>

                <div style="margin: 20px 0;">
                    <p>Dear <t t-out="object.patient_id.name"/>,</p>
                    <p>Your prescription is ready for collection from our pharmacy:</p>

                    <table style="width: 100%; margin: 15px 0; border-collapse: collapse;">
                        <tr>
                            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><strong>Reference:</strong></td>
                            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><t t-out="object.name"/></td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><strong>Doctor:</strong></td>
                            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><t t-out="object.case_id.main_doctor_id.name"/></td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><strong>Date:</strong></td>
                            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><t t-out="format_date(object.date)"/></td>
                        </tr>
                    </table>

                    <div style="background-color: #f8f9fa; padding: 15px; margin: 15px 0;">
                        <p><strong>Important:</strong></p>
                        <ul>
                            <li>Please bring your ID for collection</li>
                            <li>View details in the patient portal</li>
                            <li>For questions, call: <t t-out="user.company_id.phone"/></li>
                        </ul>
                    </div>
                </div>
            </div>
        </field>
    </record>

    <!-- Lab Results Ready Template -->
    <record id="email_template_lab_results_ready" model="mail.template">
        <field name="name">HMS: Lab Results Ready</field>
        <field name="model_id" ref="model_hms_lab_result"/>
        <field name="subject">Your Lab Results are Ready</field>
        <field name="email_from">{{ user.company_id.email }}</field>
        <field name="email_to">{{ object.patient_id.email }}</field>
        <field name="body_html" type="html">
            <div style="margin: auto; padding: 20px; font-family: Arial, sans-serif;">
                <div style="text-align: center;">
                    <img t-att-src="'/hms/static/src/img/logo.png'" style="max-height: 80px;"/>
                    <h2 style="color: #2c3e50;">Lab Results Ready</h2>
                </div>

                <div style="margin: 20px 0;">
                    <p>Dear <t t-out="object.patient_id.name"/>,</p>
                    <p>Your laboratory test results are now ready:</p>

                    <table style="width: 100%; margin: 15px 0; border-collapse: collapse;">
                        <tr>
                            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><strong>Reference:</strong></td>
                            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><t t-out="object.name"/></td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><strong>Test Date:</strong></td>
                            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><t t-out="format_date(object.create_date)"/></td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><strong>Technician:</strong></td>
                            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><t t-out="object.lab_technician_id.name"/></td>
                        </tr>
                    </table>

                    <div style="background-color: #f8f9fa; padding: 15px; margin: 15px 0;">
                        <p><strong>Next Steps:</strong></p>
                        <ul>
                            <li>View your results in the patient portal</li>
                            <li>Schedule a follow-up appointment</li>
                            <li>For questions, call: <t t-out="user.company_id.phone"/></li>
                        </ul>
                    </div>
                </div>
            </div>
        </field>
    </record> 


</odoo>

